"Freedom of association" = SF2,
"Freedom of speech" = SF3,
"Overall election quality" = SA1,
"Extent of problems" = SA2,
"Structural enviornment" = SR0STR,
"Pre-election political conditions" = SR11CHEAT,
"Pre-election violence/unrest" = SR13VIOL,
"Pre-election administrative capacity" = SR12CAP,
"Election day explicit cheating" = SR21CHEAT,
"Election day violence/unrest" = SR23VIOL,
"Election day administrative capacity" = SR22CAP) %>%
filter(COUNTRY %in% iri_countries) %>%
mutate(country_year = paste(COUNTRY, YEAR, sep = "-"))
QED.mod <- QED.da %>%
select(COUNTRY, YEAR, EXELEC, LEGELEC, SELTRANS, SELRUNOFF, SF1, SF2, SF3, SA1, SA2,
SR0STR, SR11CHEAT, SR13VIOL, SR12CAP, SR21CHEAT, SR23VIOL, SR22CAP) %>%
mutate(EXELEC = case_when(EXELEC == "(1) Executive Election" ~ 1,
EXELEC == "(0) Otherwise" ~ 0),
LEGELEC = case_when(LEGELEC == "(1) Legislative Election" ~ 1,
LEGELEC == "(0) Otherwise" ~ 0),
SELTRANS = case_when(SELTRANS == "(1) Transition or Transitional Election" ~ 1,
SELTRANS == "(0) Otherwise" ~ 0),
SELRUNOFF = case_when(SELRUNOFF == "(1) Run-off Election" ~ 1,
SELRUNOFF == "(0) Otherwise" ~ 0)) %>%
rename("Transitional election" = SELTRANS,
"Runoff election" = SELRUNOFF,
"Freedom to change government" = SF1,
"Freedom of association" = SF2,
"Freedom of speech" = SF3,
"Overall election quality" = SA1,
"Extent of problems" = SA2,
"Structural enviornment" = SR0STR,
"Pre-election political conditions" = SR11CHEAT,
"Pre-election violence/unrest" = SR13VIOL,
"Pre-election administrative capacity" = SR12CAP,
"Election day explicit cheating" = SR21CHEAT,
"Election day violence/unrest" = SR23VIOL,
"Election day administrative capacity" = SR22CAP) %>%
filter(COUNTRY %in% iri_countries) %>%
mutate(country_year = paste(COUNTRY, YEAR, sep = "-"),
dup = duplicated(country_year))
QED.mod <- QED.da %>%
select(COUNTRY, YEAR, EXELEC, LEGELEC, SELTRANS, SELRUNOFF, SF1, SF2, SF3, SA1, SA2,
SR0STR, SR11CHEAT, SR13VIOL, SR12CAP, SR21CHEAT, SR23VIOL, SR22CAP) %>%
mutate(EXELEC = case_when(EXELEC == "(1) Executive Election" ~ 1,
EXELEC == "(0) Otherwise" ~ 0),
LEGELEC = case_when(LEGELEC == "(1) Legislative Election" ~ 1,
LEGELEC == "(0) Otherwise" ~ 0),
SELTRANS = case_when(SELTRANS == "(1) Transition or Transitional Election" ~ 1,
SELTRANS == "(0) Otherwise" ~ 0),
SELRUNOFF = case_when(SELRUNOFF == "(1) Run-off Election" ~ 1,
SELRUNOFF == "(0) Otherwise" ~ 0)) %>%
rename("Transitional election" = SELTRANS,
"Runoff election" = SELRUNOFF,
"Freedom to change government" = SF1,
"Freedom of association" = SF2,
"Freedom of speech" = SF3,
"Overall election quality" = SA1,
"Extent of problems" = SA2,
"Structural enviornment" = SR0STR,
"Pre-election political conditions" = SR11CHEAT,
"Pre-election violence/unrest" = SR13VIOL,
"Pre-election administrative capacity" = SR12CAP,
"Election day explicit cheating" = SR21CHEAT,
"Election day violence/unrest" = SR23VIOL,
"Election day administrative capacity" = SR22CAP) %>%
filter(COUNTRY %in% iri_countries) %>%
mutate(country_year = paste(COUNTRY, YEAR, sep = "-"),
dup = duplicated(country_year),
LEGELEC = ifelse(dup | LEGELEC == "1", 1, 0))
QED.mod <- QED.da %>%
select(COUNTRY, YEAR, EXELEC, LEGELEC, SELTRANS, SELRUNOFF, SF1, SF2, SF3, SA1, SA2,
SR0STR, SR11CHEAT, SR13VIOL, SR12CAP, SR21CHEAT, SR23VIOL, SR22CAP) %>%
mutate(EXELEC = case_when(EXELEC == "(1) Executive Election" ~ 1,
EXELEC == "(0) Otherwise" ~ 0),
LEGELEC = case_when(LEGELEC == "(1) Legislative Election" ~ 1,
LEGELEC == "(0) Otherwise" ~ 0),
SELTRANS = case_when(SELTRANS == "(1) Transition or Transitional Election" ~ 1,
SELTRANS == "(0) Otherwise" ~ 0),
SELRUNOFF = case_when(SELRUNOFF == "(1) Run-off Election" ~ 1,
SELRUNOFF == "(0) Otherwise" ~ 0)) %>%
rename("Transitional election" = SELTRANS,
"Runoff election" = SELRUNOFF,
"Freedom to change government" = SF1,
"Freedom of association" = SF2,
"Freedom of speech" = SF3,
"Overall election quality" = SA1,
"Extent of problems" = SA2,
"Structural enviornment" = SR0STR,
"Pre-election political conditions" = SR11CHEAT,
"Pre-election violence/unrest" = SR13VIOL,
"Pre-election administrative capacity" = SR12CAP,
"Election day explicit cheating" = SR21CHEAT,
"Election day violence/unrest" = SR23VIOL,
"Election day administrative capacity" = SR22CAP) %>%
filter(COUNTRY %in% iri_countries) %>%
mutate(country_year = paste(COUNTRY, YEAR, sep = "-"),
dup = duplicated(country_year),
LEGELEC = ifelse(dup | LEGELEC == "1", 1, 0),
EXELEC = ifelse(dup | EXELEC == "1", 1, 0))
QED.mod <- QED.da %>%
select(COUNTRY, YEAR, EXELEC, LEGELEC, SELTRANS, SELRUNOFF, SF1, SF2, SF3, SA1, SA2,
SR0STR, SR11CHEAT, SR13VIOL, SR12CAP, SR21CHEAT, SR23VIOL, SR22CAP) %>%
mutate(EXELEC = case_when(EXELEC == "(1) Executive Election" ~ 1,
EXELEC == "(0) Otherwise" ~ 0),
LEGELEC = case_when(LEGELEC == "(1) Legislative Election" ~ 1,
LEGELEC == "(0) Otherwise" ~ 0),
SELTRANS = case_when(SELTRANS == "(1) Transition or Transitional Election" ~ 1,
SELTRANS == "(0) Otherwise" ~ 0),
SELRUNOFF = case_when(SELRUNOFF == "(1) Run-off Election" ~ 1,
SELRUNOFF == "(0) Otherwise" ~ 0)) %>%
rename("Transitional election" = SELTRANS,
"Runoff election" = SELRUNOFF,
"Freedom to change government" = SF1,
"Freedom of association" = SF2,
"Freedom of speech" = SF3,
"Overall election quality" = SA1,
"Extent of problems" = SA2,
"Structural enviornment" = SR0STR,
"Pre-election political conditions" = SR11CHEAT,
"Pre-election violence/unrest" = SR13VIOL,
"Pre-election administrative capacity" = SR12CAP,
"Election day explicit cheating" = SR21CHEAT,
"Election day violence/unrest" = SR23VIOL,
"Election day administrative capacity" = SR22CAP) %>%
filter(COUNTRY %in% iri_countries) %>%
mutate(country_year = paste(COUNTRY, YEAR, sep = "-"),
dup = duplicated(country_year, fromLast = TRUE),
LEGELEC = ifelse(dup | LEGELEC == "1", 1, 0),
EXELEC = ifelse(dup | EXELEC == "1", 1, 0))
QED.mod <- QED.da %>%
select(COUNTRY, YEAR, EXELEC, LEGELEC, SELTRANS, SELRUNOFF, SF1, SF2, SF3, SA1, SA2,
SR0STR, SR11CHEAT, SR13VIOL, SR12CAP, SR21CHEAT, SR23VIOL, SR22CAP) %>%
mutate(EXELEC = case_when(EXELEC == "(1) Executive Election" ~ 1,
EXELEC == "(0) Otherwise" ~ 0),
LEGELEC = case_when(LEGELEC == "(1) Legislative Election" ~ 1,
LEGELEC == "(0) Otherwise" ~ 0),
SELTRANS = case_when(SELTRANS == "(1) Transition or Transitional Election" ~ 1,
SELTRANS == "(0) Otherwise" ~ 0),
SELRUNOFF = case_when(SELRUNOFF == "(1) Run-off Election" ~ 1,
SELRUNOFF == "(0) Otherwise" ~ 0)) %>%
rename("Transitional election" = SELTRANS,
"Runoff election" = SELRUNOFF,
"Freedom to change government" = SF1,
"Freedom of association" = SF2,
"Freedom of speech" = SF3,
"Overall election quality" = SA1,
"Extent of problems" = SA2,
"Structural enviornment" = SR0STR,
"Pre-election political conditions" = SR11CHEAT,
"Pre-election violence/unrest" = SR13VIOL,
"Pre-election administrative capacity" = SR12CAP,
"Election day explicit cheating" = SR21CHEAT,
"Election day violence/unrest" = SR23VIOL,
"Election day administrative capacity" = SR22CAP) %>%
filter(COUNTRY %in% iri_countries) %>%
mutate(country_year = paste(COUNTRY, YEAR, sep = "-"),
dup = duplicated(country_year, fromLast = TRUE),
LEGELEC = ifelse(dup | LEGELEC == "1", 1, 0),
EXELEC = ifelse(dup | EXELEC == "1", 1, 0),
!duplicated(country_year))
QED.mod <- QED.da %>%
select(COUNTRY, YEAR, EXELEC, LEGELEC, SELTRANS, SELRUNOFF, SF1, SF2, SF3, SA1, SA2,
SR0STR, SR11CHEAT, SR13VIOL, SR12CAP, SR21CHEAT, SR23VIOL, SR22CAP) %>%
mutate(EXELEC = case_when(EXELEC == "(1) Executive Election" ~ 1,
EXELEC == "(0) Otherwise" ~ 0),
LEGELEC = case_when(LEGELEC == "(1) Legislative Election" ~ 1,
LEGELEC == "(0) Otherwise" ~ 0),
SELTRANS = case_when(SELTRANS == "(1) Transition or Transitional Election" ~ 1,
SELTRANS == "(0) Otherwise" ~ 0),
SELRUNOFF = case_when(SELRUNOFF == "(1) Run-off Election" ~ 1,
SELRUNOFF == "(0) Otherwise" ~ 0)) %>%
rename("Transitional election" = SELTRANS,
"Runoff election" = SELRUNOFF,
"Freedom to change government" = SF1,
"Freedom of association" = SF2,
"Freedom of speech" = SF3,
"Overall election quality" = SA1,
"Extent of problems" = SA2,
"Structural enviornment" = SR0STR,
"Pre-election political conditions" = SR11CHEAT,
"Pre-election violence/unrest" = SR13VIOL,
"Pre-election administrative capacity" = SR12CAP,
"Election day explicit cheating" = SR21CHEAT,
"Election day violence/unrest" = SR23VIOL,
"Election day administrative capacity" = SR22CAP) %>%
filter(COUNTRY %in% iri_countries) %>%
mutate(country_year = paste(COUNTRY, YEAR, sep = "-"),
dup = duplicated(country_year, fromLast = TRUE),
LEGELEC = ifelse(dup | LEGELEC == "1", 1, 0),
EXELEC = ifelse(dup | EXELEC == "1", 1, 0)) %>%
filter(!duplicated(country_year))
QED.mod <- QED.da %>%
select(COUNTRY, YEAR, EXELEC, LEGELEC, SELTRANS, SELRUNOFF, SF1, SF2, SF3, SA1, SA2,
SR0STR, SR11CHEAT, SR13VIOL, SR12CAP, SR21CHEAT, SR23VIOL, SR22CAP) %>%
mutate(EXELEC = case_when(EXELEC == "(1) Executive Election" ~ 1,
EXELEC == "(0) Otherwise" ~ 0),
LEGELEC = case_when(LEGELEC == "(1) Legislative Election" ~ 1,
LEGELEC == "(0) Otherwise" ~ 0),
SELTRANS = case_when(SELTRANS == "(1) Transition or Transitional Election" ~ 1,
SELTRANS == "(0) Otherwise" ~ 0),
SELRUNOFF = case_when(SELRUNOFF == "(1) Run-off Election" ~ 1,
SELRUNOFF == "(0) Otherwise" ~ 0)) %>%
rename("Transitional election" = SELTRANS,
"Runoff election" = SELRUNOFF,
"Freedom to change government" = SF1,
"Freedom of association" = SF2,
"Freedom of speech" = SF3,
"Overall election quality" = SA1,
"Extent of problems" = SA2,
"Structural enviornment" = SR0STR,
"Pre-election political conditions" = SR11CHEAT,
"Pre-election violence/unrest" = SR13VIOL,
"Pre-election administrative capacity" = SR12CAP,
"Election day explicit cheating" = SR21CHEAT,
"Election day violence/unrest" = SR23VIOL,
"Election day administrative capacity" = SR22CAP) %>%
filter(COUNTRY %in% iri_countries) %>%
mutate(country_year = paste(COUNTRY, YEAR, sep = "-"),
dup = duplicated(country_year, fromLast = TRUE),
LEGELEC = ifelse(dup | LEGELEC == "1", 1, 0),
EXELEC = ifelse(dup | EXELEC == "1", 1, 0)) %>%
filter(!duplicated(country_year)) %>%
select(!dup)
QED.mod %>% write_csv("QED_cleaned.csv")
# Loading IAEP data
IAEP <- read_csv("IAEPv2_0_2015labels.csv")
View(IAEP)
IAEP_mod <- IAEP %>%
select(cname, year, election, electexec, electleg, electboth, electprot) %>%
filter(cname %in% iri_countries)
View(IAEP_mod)
IAEP_mod <- IAEP %>%
select(cname, year, election, electexec, electleg, electboth, electprot) %>%
filter(cname %in% iri_countries,
election == "yes")
IAEP_mod <- IAEP %>%
select(cname, year, election, electexec, electleg, electboth, electprot) %>%
filter(cname %in% iri_countries)
IAEP_mod <- IAEP %>%
select(cname, year, election, electexec, electleg, electboth, electprot) %>%
filter(cname %in% iri_countries,
election == "Yes")
IAEP_mod <- IAEP %>%
# select(cname, year, election, electexec, electleg, electboth, electprot) %>%
filter(cname %in% iri_countries,
election == "Yes")
IAEP_mod <- IAEP %>%
# select(cname, year, election, electexec, electleg, electboth, electprot) %>%
select(!cabr, !ccode) %>%
filter(cname %in% iri_countries,
election == "Yes")
IAEP_mod <- IAEP %>%
# select(cname, year, election, electexec, electleg, electboth, electprot) %>%
!select(cabr, ccode) %>%
filter(cname %in% iri_countries,
election == "Yes")
IAEP_mod <- IAEP %>%
# select(cname, year, election, electexec, electleg, electboth, electprot) %>%
select(!cabr, !ccode) %>%
filter(cname %in% iri_countries,
election == "Yes")
IAEP_mod <- IAEP %>%
# select(cname, year, election, electexec, electleg, electboth, electprot) %>%
select(!c(cabr, ccode)) %>%
filter(cname %in% iri_countries,
election == "Yes")
IAEP_mod <- IAEP %>%
# select(cname, year, election, electexec, electleg, electboth, electprot) %>%
select(!c(cabr, ccode)) %>%
filter(cname %in% iri_countries,
election == "Yes") %>%
mutate(country_year = paste(cname, year, sep = "-"))
IAEP_mod <- IAEP %>%
select(cname, year, election, electexec, electleg, electboth, amyear, constage, govstruct,
regstruct, electtime, elecperiod, lpartynom, epartynom, lelecsystem, eelect, eelectrules, parties,
stateparty, legcompet, execcompet, electboy, electprot, protestpart, legelig, execelig) %>%
#select(!c(cabr, ccode), ) %>%
rename("Age of constitution (years)" = constage,
"Constitution amended this year?" = amyear,
"Regional government reps selected" = regstruct,
"Election scheduled" = electtime,
"Election period" = elecperiod,
"Do party nominations field leg candidates?" = lpartynom,
"Do party nominations field executive candidates?" = epartynom,
"Leg elec sys" = lelecsystem,
"Exec elec sys" = eelect,
"Exec elec rules" = eelectrules,
"Num of parties that hold >= 5% of legislature" = parties,
"Official state party?" = stateparty,
"Leg elec competetive?" = legcompet,
"Exec elec competetive?" = execcompet,
"Boycotted by major party?" = electboy,
"Did election cause protest/violence?" = electprot,
"% of pop voting in leg elec" = legelig,
"% of pop voting in exec elec" = execelig) %>%
filter(cname %in% iri_countries,
election == "Yes") %>%
IAEP_mod <- IAEP %>%
select(cname, year, election, electexec, electleg, electboth, amyear, constage, govstruct,
regstruct, electtime, elecperiod, lpartynom, epartynom, lelecsystem, eelect, eelectrules, parties,
stateparty, legcompet, execcompet, electboy, electprot, protestpart, legelig, execelig) %>%
#select(!c(cabr, ccode), ) %>%
rename("Age of constitution (years)" = constage,
"Constitution amended this year?" = amyear,
"Regional government reps selected" = regstruct,
"Election scheduled" = electtime,
"Election period" = elecperiod,
"Do party nominations field leg candidates?" = lpartynom,
"Do party nominations field executive candidates?" = epartynom,
"Leg elec sys" = lelecsystem,
"Exec elec sys" = eelect,
"Exec elec rules" = eelectrules,
"Num of parties that hold >= 5% of legislature" = parties,
"Official state party?" = stateparty,
"Leg elec competetive?" = legcompet,
"Exec elec competetive?" = execcompet,
"Boycotted by major party?" = electboy,
"Did election cause protest/violence?" = electprot,
"% of pop voting in leg elec" = legelig,
"% of pop voting in exec elec" = execelig) %>%
filter(cname %in% iri_countries,
election == "Yes") %>%
IAEP_mod <- IAEP %>%
select(cname, year, election, electexec, electleg, electboth, amyear, constage, govstruct,
regstruct, electtime, elecperiod, lpartynom, epartynom, lelecsystem, eelect, eelectrules, parties,
stateparty, legcompet, execcompet, electboy, electprot, protestpart, legelig, execelig) %>%
#select(!c(cabr, ccode), ) %>%
rename("Age of constitution (years)" = constage,
"Constitution amended this year?" = amyear,
"Regional government reps selected" = regstruct,
"Election scheduled" = electtime,
"Election period" = elecperiod,
"Do party nominations field leg candidates?" = lpartynom,
"Do party nominations field executive candidates?" = epartynom,
"Leg elec sys" = lelecsystem,
"Exec elec sys" = eelect,
"Exec elec rules" = eelectrules,
"Num of parties that hold >= 5% of legislature" = parties,
"Official state party?" = stateparty,
"Leg elec competetive?" = legcompet,
"Exec elec competetive?" = execcompet,
"Boycotted by major party?" = electboy,
"Did election cause protest/violence?" = electprot,
"% of pop voting in leg elec" = legelig,
"% of pop voting in exec elec" = execelig) %>%
filter(cname %in% iri_countries,
election == "Yes") %>%
mutate(country_year = paste(cname, year, sep = "-"))
IAEP_mod <- IAEP %>%
select(cname, year, election, electexec, electleg, electboth, amyear, constage, govstruct,
regstruct, electtime, elecperiod, lpartynom, epartynom, lelecsystem, eelect, eelectrules, parties,
stateparty, legcompet, execcompet, electboy, electprot, protestpart, legelig, execelig) %>%
#select(!c(cabr, ccode), ) %>%
rename("Age of constitution (years)" = constage,
"Constitution amended this year?" = amyear,
"Regional government reps selected" = regstruct,
"Election scheduled" = electtime,
"Election period" = elecperiod,
"Do party nominations field leg candidates?" = lpartynom,
"Do party nominations field executive candidates?" = epartynom,
"Leg elec sys" = lelecsystem,
"Exec elec sys" = eelect,
"Exec elec rules" = eelectrules,
"Num of parties that hold >= 5% of legislature" = parties,
"Official state party?" = stateparty,
"Leg elec competetive?" = legcompet,
"Exec elec competetive?" = execcompet,
"Boycotted by major party?" = electboy,
"Did election cause protest/violence?" = electprot,
"% of pop voting in leg elec" = legelig,
"% of pop voting in exec elec" = execelig) %>%
filter(cname %in% iri_countries,
election == "Yes")
IAEP %>%
select(cname, year, election, electexec, electleg, electboth, amyear, constage, govstruct,
regstruct, electtime, elecperiod, lpartynom, epartynom, lelecsystem, eelect, eelectrules, parties,
stateparty, legcompet, execcompet, electboy, electprot, protestpart, legelig, execelig)
IAEP %>%
select(cname, year, election, electexec, electleg, electboth, amyear, constage, govstruct,
regstruct, electtime, elecperiod, lpartynom, epartynom, lelecsystem, eelect, eelectrules, parties,
stateparty, legcompet, execcompet, electboy, electprot, protestpart, legelig, execelig) %>%
#select(!c(cabr, ccode), ) %>%
rename("Age of constitution (years)" = constage,
"Constitution amended this year?" = amyear,
"Regional government reps selected" = regstruct,
"Election scheduled" = electtime,
"Election period" = elecperiod,
"Do party nominations field leg candidates?" = lpartynom,
"Do party nominations field executive candidates?" = epartynom,
"Leg elec sys" = lelecsystem,
"Exec elec sys" = eelect,
"Exec elec rules" = eelectrules,
"Num of parties that hold >= 5% of legislature" = parties,
"Official state party?" = stateparty,
"Leg elec competetive?" = legcompet,
"Exec elec competetive?" = execcompet,
"Boycotted by major party?" = electboy,
"Did election cause protest/violence?" = electprot,
"% of pop voting in leg elec" = legelig,
"% of pop voting in exec elec" = execelig)
IAEP %>%
select(cname, year, election, electexec, electleg, electboth, amyear, constage, govstruct,
regstruct, electtime, elecperiod, lpartynom, epartynom, lelecsystem, eelect, eelectrules, parties,
stateparty, legcompet, execcompet, electboy, electprot, protestpart, legelig, execelig) %>%
#select(!c(cabr, ccode), ) %>%
rename("Age of constitution (years)" = constage,
"Constitution amended this year?" = amyear,
"Regional government reps selected" = regstruct,
"Election scheduled" = electtime,
"Election period" = elecperiod,
"Do party nominations field leg candidates?" = lpartynom,
"Do party nominations field executive candidates?" = epartynom,
"Leg elec sys" = lelecsystem,
"Exec elec sys" = eelect,
"Exec elec rules" = eelectrules,
"Num of parties that hold >= 5% of legislature" = parties,
"Official state party?" = stateparty,
"Leg elec competetive?" = legcompet,
"Exec elec competetive?" = execcompet,
"Boycotted by major party?" = electboy,
"Did election cause protest/violence?" = electprot,
"% of pop voting in leg elec" = legelig,
"% of pop voting in exec elec" = execelig) %>%
filter(cname %in% iri_countries,
election == "Yes")
IAEP %>%
select(cname, year, election, electexec, electleg, electboth, amyear, constage, govstruct,
regstruct, electtime, elecperiod, lpartynom, epartynom, lelecsystem, eelect, eelectrules, parties,
stateparty, legcompet, execcompet, electboy, electprot, protestpart, legelig, execelig) %>%
#select(!c(cabr, ccode), ) %>%
rename("Age of constitution (years)" = constage,
"Constitution amended this year?" = amyear,
"Regional government reps selected" = regstruct,
"Election scheduled" = electtime,
"Election period" = elecperiod,
"Do party nominations field leg candidates?" = lpartynom,
"Do party nominations field executive candidates?" = epartynom,
"Leg elec sys" = lelecsystem,
"Exec elec sys" = eelect,
"Exec elec rules" = eelectrules,
"Num of parties that hold >= 5% of legislature" = parties,
"Official state party?" = stateparty,
"Leg elec competetive?" = legcompet,
"Exec elec competetive?" = execcompet,
"Boycotted by major party?" = electboy,
"Did election cause protest/violence?" = electprot,
"% of pop voting in leg elec" = legelig,
"% of pop voting in exec elec" = execelig) %>%
filter(cname %in% iri_countries,
election == "Yes") %>%
mutate(country_year = paste(cname, year, sep = "-"))
View(IAEP_mod)
IAEP_mod <- IAEP %>%
select(cname, year, election, electexec, electleg, electboth, amyear, constage, govstruct,
regstruct, electtime, elecperiod, lpartynom, epartynom, lelecsystem, eelect, eelectrules, parties,
stateparty, legcompet, execcompet, electboy, electprot, protestpart, legelig, execelig) %>%
#select(!c(cabr, ccode), ) %>%
rename("Age of constitution (years)" = constage,
"Constitution amended this year?" = amyear,
"Regional government reps selected" = regstruct,
"Election scheduled" = electtime,
"Election period" = elecperiod,
"Do party nominations field leg candidates?" = lpartynom,
"Do party nominations field executive candidates?" = epartynom,
"Leg elec sys" = lelecsystem,
"Exec elec sys" = eelect,
"Exec elec rules" = eelectrules,
"Num of parties that hold >= 5% of legislature" = parties,
"Official state party?" = stateparty,
"Leg elec competetive?" = legcompet,
"Exec elec competetive?" = execcompet,
"Boycotted by major party?" = electboy,
"Did election cause protest/violence?" = electprot,
"% of pop voting in leg elec" = legelig,
"% of pop voting in exec elec" = execelig) %>%
filter(cname %in% iri_countries,
election == "Yes") %>%
mutate(country_year = paste(cname, year, sep = "-"))
View(IAEP_mod)
IAEP_QED <- IAEP_mod %>%
full_join(QED.mod, by = "country_year")
View(IAEP_QED)
IAEP_QED %>%
select(country_year, EXELEC, LEGELEC, electexec, electleg)
IAEP_QED <- IAEP_mod %>%
full_join(QED.mod, by = "country_year") %>%
mutate(cname = ifelse(is.na(cname), COUNTRY, cname))
IAEP_QED <- IAEP_mod %>%
full_join(QED.mod, by = "country_year") %>%
mutate(cname = ifelse(is.na(cname), COUNTRY, cname),
year = ifelse(is.na(year), YEAR, year))
IAEP_QED <- IAEP_mod %>%
full_join(QED.mod, by = "country_year") %>%
mutate(cname = ifelse(is.na(cname), COUNTRY, cname),
year = ifelse(is.na(year), YEAR, year)) %>%
select(!c(COUNTRY, YEAR))
IAEP_QED <- IAEP_mod %>%
full_join(QED.mod, by = "country_year") %>%
mutate(cname = ifelse(is.na(cname), COUNTRY, cname),
year = ifelse(is.na(year), YEAR, year),
electexec = ifelse(is.na(year), EXELEC, electexec),
electleg = ifelse(is.na(electleg), LEGELEC, electleg)) %>%
select(!c(COUNTRY, YEAR))
IAEP_QED <- IAEP_mod %>%
full_join(QED.mod, by = "country_year") %>%
mutate(cname = ifelse(is.na(cname), COUNTRY, cname),
year = ifelse(is.na(year), YEAR, year),
electexec = ifelse(is.na(electexec), EXELEC, electexec),
electleg = ifelse(is.na(electleg), LEGELEC, electleg)) %>%
select(!c(COUNTRY, YEAR))
IAEP_QED %>% write_csv("IAEP_QED_cleaned.csv")
